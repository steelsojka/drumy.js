<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title></title>
  <script type="text/javascript" src="js/Drumy.Event.js"></script>
  <script type="text/javascript" src="js/Drumy.Core.js"></script>
  <script type="text/javascript" src="js/Drumy.Pad.js"></script>
  <script type="text/javascript" src="js/Drumy.Voice.js"></script>
  <script type="text/javascript" src="js/Drumy.UI.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
  <link rel="stylesheet" href="src/ui/Drumy.UI.css">
  <style>
    #container {
      width: 800px;
      height: 800px;
    }
  </style>
</head>
<body>
  <section id="container"></section>
  <script type="text/javascript">
    $(function() {
      window.drums = Drumy.create();
      Drumy.UI.initialize();

      $.get('src/patches/9pad.json', function(e) {
        drums.loadConfig(e);
        drums.render("#container");
      });
      // drums.addPad().addVoice();

      // var request = new XMLHttpRequest();
      // request.open('GET', 'audio/kick_05.wav');
      // request.responseType = "arraybuffer";
      // request.onload = function(e) {
      //   var buffer = e.currentTarget.response;
      //   drums.getContext().decodeAudioData(buffer, function(e) {
      //     drums.getPad(0).getVoice(0).loadBuffer(e);
      //     drums.trigger(32, 100);
      //     setTimeout(function() {
      //       drums.trigger(32, 100)
      //     }, 10);
      //     setTimeout(function() {
      //       drums.trigger(32, 100)
      //     }, 50);
      //   });
      // };
      // request.send();
    });
  </script>
</body>

<script id="drumy-pad-template" type="text/html">
  <div class="drumy-overlay"></div>
</script>

</html>